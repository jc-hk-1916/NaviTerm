# –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API NaviTerm AutoTask

**[–î—Ä—É–≥–∏–µ —è–∑—ã–∫–∏](README.md)** | üá∑üá∫ –†—É—Å—Å–∫–∏–π

–ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö JavaScript API –≤ NaviTerm AutoTask.

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [SSH –û–ø–µ—Ä–∞—Ü–∏–∏](#ssh-–æ–ø–µ—Ä–∞—Ü–∏–∏)
- [HTTP –ö–ª–∏–µ–Ω—Ç](#http-–∫–ª–∏–µ–Ω—Ç)
- [–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è](#—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
- [–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –•—Ä–∞–Ω–∏–ª–∏—â–µ](#–ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
- [–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –í—Ä–µ–º–µ–Ω–∏ –í—ã–ø–æ–ª–Ω–µ–Ω–∏—è](#–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–≤—Ä–µ–º–µ–Ω–∏-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∏](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- [–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –û–∫—Ä—É–∂–µ–Ω–∏—è](#–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
- [–°–∏—Å—Ç–µ–º–Ω–æ–µ –û–∫—Ä—É–∂–µ–Ω–∏–µ](#—Å–∏—Å—Ç–µ–º–Ω–æ–µ-–æ–∫—Ä—É–∂–µ–Ω–∏–µ)
- [–£—Ç–∏–ª–∏—Ç—ã –î–∞—Ç—ã](#—É—Ç–∏–ª–∏—Ç—ã-–¥–∞—Ç—ã)
- [–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ](#–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°–∫—Ä–∏–ø—Ç–æ–º](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–∫—Ä–∏–ø—Ç–æ–º)

---

## SSH –û–ø–µ—Ä–∞—Ü–∏–∏

### `$ssh.exec(hostId, command, callback)`

–í—ã–ø–æ–ª–Ω–∏—Ç—å SSH –∫–æ–º–∞–Ω–¥—É –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Ö–æ—Å—Ç–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `hostId` (string): ID —Ö–æ—Å—Ç–∞ –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤
- `command` (string): Shell –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `callback` (function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞ callback:**
```javascript
(result) => {
    // result.success (boolean): –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã
    // result.output (string): –í—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã
    // result.exitCode (number): –ö–æ–¥ –≤—ã—Ö–æ–¥–∞
    // result.error (string): –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (–ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ)
}
```

**–ü—Ä–∏–º–µ—Ä:**
```javascript
$ssh.exec('host-123', 'uptime', (result) => {
    if (result.success) {
        console.log('–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:', result.output);
    } else {
        console.error('–û—à–∏–±–∫–∞:', result.error);
    }
});
```

### `$ssh.getHosts(callback)`

–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ SSH —Ö–æ—Å—Ç—ã.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `callback` (function): –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ —Å –º–∞—Å—Å–∏–≤–æ–º —Ö–æ—Å—Ç–æ–≤

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞ callback:**
```javascript
(hosts) => {
    // hosts - —ç—Ç–æ –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Ö–æ—Å—Ç–æ–≤:
    // - id (string): ID —Ö–æ—Å—Ç–∞
    // - name (string): –ò–º—è —Ö–æ—Å—Ç–∞
    // - host (string): –ò–º—è —Ö–æ—Å—Ç–∞ –∏–ª–∏ IP
    // - port (number): SSH –ø–æ—Ä—Ç
    // - username (string): SSH –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    // - group (string): –ì—Ä—É–ø–ø–∞ —Ö–æ—Å—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
}
```

**–ü—Ä–∏–º–µ—Ä:**
```javascript
$ssh.getHosts((hosts) => {
    console.log(`–ù–∞–π–¥–µ–Ω–æ ${hosts.length} —Ö–æ—Å—Ç–æ–≤`);
    hosts.forEach(host => {
        console.log(`- ${host.name} (${host.host})`);
    });
});
```

### `$ssh.connect(hostId, callback)`

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Ö–æ—Å—Ç–æ–º.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `hostId` (string): ID —Ö–æ—Å—Ç–∞
- `callback` (function): Callback —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä:**
```javascript
$ssh.connect('host-123', (success, error) => {
    if (success) {
        console.log('–£—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ');
    } else {
        console.error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è:', error);
    }
});
```

### `$ssh.disconnect(hostId)`

–û—Ç–∫–ª—é—á–∏—Ç—å—Å—è –æ—Ç SSH —Ö–æ—Å—Ç–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `hostId` (string): ID —Ö–æ—Å—Ç–∞

**–ü—Ä–∏–º–µ—Ä:**
```javascript
$ssh.disconnect('host-123');
```

### `$ssh.isConnected(hostId)`

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø–æ–¥–∫–ª—é—á–µ–Ω –ª–∏ –∫ —Ö–æ—Å—Ç—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `hostId` (string): ID —Ö–æ—Å—Ç–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `boolean`

**–ü—Ä–∏–º–µ—Ä:**
```javascript
if ($ssh.isConnected('host-123')) {
    console.log('–£–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ');
}
```

---

## HTTP –ö–ª–∏–µ–Ω—Ç

### `$httpClient.get(urlOrOptions, callback)`

–û—Ç–ø—Ä–∞–≤–∏—Ç—å HTTP GET –∑–∞–ø—Ä–æ—Å.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `urlOrOptions` (string | object): –°—Ç—Ä–æ–∫–∞ URL –∏–ª–∏ –æ–±—ä–µ–∫—Ç –æ–ø—Ü–∏–π
- `callback` (function): Callback —Å –æ—Ç–≤–µ—Ç–æ–º

**–û–±—ä–µ–∫—Ç –æ–ø—Ü–∏–π:**
```javascript
{
    url: 'https://api.example.com/data',
    headers: {
        'Authorization': 'Bearer token',
        'Content-Type': 'application/json'
    }
}
```

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞ callback:**
```javascript
(error, response, body) => {
    // error (string): –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (null –ø—Ä–∏ —É—Å–ø–µ—Ö–µ)
    // response (object): –û–±—ä–µ–∫—Ç –æ—Ç–≤–µ—Ç–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
    // body (string): –¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞
}
```

**–ü—Ä–∏–º–µ—Ä:**
```javascript
$httpClient.get('https://api.example.com/data', (error, response, body) => {
    if (error) {
        console.error('–ó–∞–ø—Ä–æ—Å –Ω–µ —É–¥–∞–ª—Å—è:', error);
        return;
    }
    console.log('–°—Ç–∞—Ç—É—Å:', response.status);
    console.log('–¢–µ–ª–æ:', body);
});
```

### `$httpClient.post(urlOrOptions, callback)`

–û—Ç–ø—Ä–∞–≤–∏—Ç—å HTTP POST –∑–∞–ø—Ä–æ—Å.

**–ü—Ä–∏–º–µ—Ä:**
```javascript
$httpClient.post({
    url: 'https://api.example.com/data',
    headers: {
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({ key: 'value' })
}, (error, response, body) => {
    if (!error && response.status === 200) {
        console.log('–£—Å–ø–µ—Ö:', body);
    }
});
```

### `$httpClient.put(urlOrOptions, callback)`

–û—Ç–ø—Ä–∞–≤–∏—Ç—å HTTP PUT –∑–∞–ø—Ä–æ—Å. –¢–∞ –∂–µ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞, —á—Ç–æ –∏ POST.

### `$httpClient.delete(urlOrOptions, callback)`

–û—Ç–ø—Ä–∞–≤–∏—Ç—å HTTP DELETE –∑–∞–ø—Ä–æ—Å. –¢–∞ –∂–µ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞, —á—Ç–æ –∏ GET.

### `$httpClient.head(urlOrOptions, callback)`

–û—Ç–ø—Ä–∞–≤–∏—Ç—å HTTP HEAD –∑–∞–ø—Ä–æ—Å. –¢–∞ –∂–µ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞, —á—Ç–æ –∏ GET.

### `$httpClient.patch(urlOrOptions, callback)`

–û—Ç–ø—Ä–∞–≤–∏—Ç—å HTTP PATCH –∑–∞–ø—Ä–æ—Å. –¢–∞ –∂–µ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞, —á—Ç–æ –∏ POST.

### `$task.fetch(options)`

HTTP –∫–ª–∏–µ–Ω—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ Promise.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `options` (object): –û–ø—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–∞

**–û–ø—Ü–∏–∏:**
```javascript
{
    url: 'https://api.example.com/data',
    method: 'GET',  // GET, POST, PUT, DELETE, –∏ —Ç.–¥.
    headers: {
        'Authorization': 'Bearer token'
    },
    body: '—Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞'
}
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Promise —Å –æ–±—ä–µ–∫—Ç–æ–º –æ—Ç–≤–µ—Ç–∞

**–û–±—ä–µ–∫—Ç –æ—Ç–≤–µ—Ç–∞:**
```javascript
{
    status: 200,
    headers: { ... },
    body: '—Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞'
}
```

**–ü—Ä–∏–º–µ—Ä:**
```javascript
$task.fetch({
    url: 'https://api.example.com/data',
    method: 'GET'
})
.then(response => {
    console.log('–°—Ç–∞—Ç—É—Å:', response.status);
    console.log('–¢–µ–ª–æ:', response.body);
})
.catch(error => {
    console.error('–û—à–∏–±–∫–∞:', error.error);
});
```

---

## –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### `$notification.post(title, subtitle, body, options)`

–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `title` (string): –ó–∞–≥–æ–ª–æ–≤–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `subtitle` (string): –ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `body` (string): –¢–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `options` (object): –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–û–ø—Ü–∏–∏:**
```javascript
{
    url: 'https://example.com',  // URL –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–∏ –∫–ª–∏–∫–µ
    'open-url': 'https://example.com'  // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∫–ª—é—á
}
```

**–ü—Ä–∏–º–µ—Ä:**
```javascript
$notification.post(
    '–û–ø–æ–≤–µ—â–µ–Ω–∏–µ –°–µ—Ä–≤–µ—Ä–∞',
    '–í—ã—Å–æ–∫–∞—è –ó–∞–≥—Ä—É–∑–∫–∞ CPU',
    '–ó–∞–≥—Ä—É–∑–∫–∞ CPU —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 95%',
    { url: 'https://monitoring.example.com' }
);
```

### `$notify(title, subtitle, body, options)`

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π API —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π. –¢–∞ –∂–µ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞, —á—Ç–æ –∏ `$notification.post`.

---

## –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –•—Ä–∞–Ω–∏–ª–∏—â–µ

### `$persistentStore.write(value, key)`

–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `value` (string): –ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- `key` (string): –ö–ª—é—á —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `boolean` (—Å—Ç–∞—Ç—É—Å —É—Å–ø–µ—Ö–∞)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const data = JSON.stringify({ count: 42 });
$persistentStore.write(data, 'my-data');
```

### `$persistentStore.read(key)`

–ü—Ä–æ—á–∏—Ç–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` (string): –ö–ª—é—á —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `string | null`

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const data = $persistentStore.read('my-data');
if (data) {
    const obj = JSON.parse(data);
    console.log('–°—á–µ—Ç—á–∏–∫:', obj.count);
}
```

### `$persistentStore.allKeys()`

–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–ª—é—á–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const keys = $persistentStore.allKeys();
console.log('–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∫–ª—é—á–∏:', keys);
```

### `$persistentStore.remove(key)`

–£–¥–∞–ª–∏—Ç—å –∫–ª—é—á –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` (string): –ö–ª—é—á —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `boolean`

**–ü—Ä–∏–º–µ—Ä:**
```javascript
$persistentStore.remove('my-data');
```

### `$persistentStore.clear()`

–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

**–ü—Ä–∏–º–µ—Ä:**
```javascript
$persistentStore.clear();
```

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –í—Ä–µ–º–µ–Ω–∏ –í—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞.

### `$variables.set(key, value)`

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` (string): –ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
- `value` (string): –ó–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `boolean`

**–ü—Ä–∏–º–µ—Ä:**
```javascript
$variables.set('counter', '10');
```

### `$variables.get(key)`

–ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` (string): –ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `string | null`

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const counter = $variables.get('counter');
console.log('–°—á–µ—Ç—á–∏–∫:', counter);
```

### `$variables.has(key)`

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` (string): –ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `boolean`

**–ü—Ä–∏–º–µ—Ä:**
```javascript
if ($variables.has('counter')) {
    console.log('–°—á–µ—Ç—á–∏–∫ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç');
}
```

### `$variables.allKeys()`

–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫

### `$variables.remove(key)`

–£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` (string): –ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `boolean`

### `$variables.clear()`

–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–æ—Ö–æ–∂–µ –Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –Ω–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.

### `$prefs.setValueForKey(value, key)`

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `value` (string): –ó–Ω–∞—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `key` (string): –ö–ª—é—á –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `boolean`

### `$prefs.valueForKey(key)`

–ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` (string): –ö–ª—é—á –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `string | null`

### `$prefs.removeValueForKey(key)`

–£–¥–∞–ª–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` (string): –ö–ª—é—á –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `boolean`

### `$prefs.removeAllValues()`

–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –û–∫—Ä—É–∂–µ–Ω–∏—è

### `$env.get(key, defaultValue)`

–ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` (string): –ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
- `defaultValue` (string): –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `string | null`

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const apiKey = $env.get('API_KEY', 'default-key');
```

### `$env.set(key, value)`

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` (string): –ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
- `value` (string): –ó–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `boolean`

### `$env.remove(key)`

–£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` (string): –ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `boolean`

### `$env.allKeys()`

–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫

### `$env.all()`

–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∫–∞–∫ –æ–±—ä–µ–∫—Ç.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û–±—ä–µ–∫—Ç —Å –ø–∞—Ä–∞–º–∏ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const allEnv = $env.all();
console.log('–û–∫—Ä—É–∂–µ–Ω–∏–µ:', allEnv);
```

---

## –°–∏—Å—Ç–µ–º–Ω–æ–µ –û–∫—Ä—É–∂–µ–Ω–∏–µ

### `$environment`

–û–±—ä–µ–∫—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è —Å —Å–∏—Å—Ç–µ–º–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `system` (string): "iOS" –∏–ª–∏ "macOS"
- `version` (string): –í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `language` (string): –ö–æ–¥ —è–∑—ã–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- `deviceName` (string): –ò–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

**–ü—Ä–∏–º–µ—Ä:**
```javascript
console.log('–°–∏—Å—Ç–µ–º–∞:', $environment.system);
console.log('–í–µ—Ä—Å–∏—è:', $environment.version);
console.log('–Ø–∑—ã–∫:', $environment.language);
console.log('–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:', $environment.deviceName);
```

---

## –£—Ç–∏–ª–∏—Ç—ã –î–∞—Ç—ã

### `$date.now()`

–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É/–≤—Ä–µ–º—è —Å –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞–º–∏.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°—Ç—Ä–æ–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ "YYYY-MM-DD HH:mm:ss.SSS"

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const now = $date.now();
console.log('–°–µ–π—á–∞—Å:', now);  // "2024-01-15 14:30:45.123"
```

### `$date.nowSimple()`

–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É/–≤—Ä–µ–º—è –±–µ–∑ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°—Ç—Ä–æ–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ "YYYY-MM-DD HH:mm:ss"

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const now = $date.nowSimple();
console.log('–°–µ–π—á–∞—Å:', now);  // "2024-01-15 14:30:45"
```

### `$date.format(formatString)`

–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É/–≤—Ä–µ–º—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Ñ–æ—Ä–º–∞—Ç–æ–º.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `formatString` (string): –°—Ç—Ä–æ–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "yyyy-MM-dd HH:mm:ss")

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–∞—Ç—ã

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const date = $date.format('yyyy-MM-dd');
console.log('–î–∞—Ç–∞:', date);  // "2024-01-15"

const time = $date.format('HH:mm:ss');
console.log('–í—Ä–µ–º—è:', time);  // "14:30:45"
```

### `$date.timestamp()`

–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤—Ä–µ–º–µ–Ω–Ω—É—é –º–µ—Ç–∫—É –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Number (–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã —Å –Ω–∞—á–∞–ª–∞ —ç–ø–æ—Ö–∏)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
const ts = $date.timestamp();
console.log('–í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞:', ts);  // 1705329045123
```

---

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### `console.log(message)`

–ó–∞–ø–∏—Å–∞—Ç—å –æ–±—ã—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `message` (string): –°–æ–æ–±—â–µ–Ω–∏–µ –ª–æ–≥–∞

**–ü—Ä–∏–º–µ—Ä:**
```javascript
console.log('[–ò–Ω—Ñ–æ] –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω');
```

### `console.warn(message)`

–ó–∞–ø–∏—Å–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `message` (string): –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

**–ü—Ä–∏–º–µ—Ä:**
```javascript
console.warn('[–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ] –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –≤—ã—Å–æ–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ CPU');
```

### `console.error(message)`

–ó–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `message` (string): –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

**–ü—Ä–∏–º–µ—Ä:**
```javascript
console.error('[–û—à–∏–±–∫–∞] –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è');
```

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°–∫—Ä–∏–ø—Ç–æ–º

### `$done(result)`

–ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –∏ –≤–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `result` (string): –î–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–æ–±—ã—á–Ω–æ JSON —Å—Ç—Ä–æ–∫–∞)

**–ü—Ä–∏–º–µ—Ä:**
```javascript
$done(JSON.stringify({
    success: true,
    data: { count: 42 }
}));
```

**–í–∞–∂–Ω–æ:** –í—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–π—Ç–µ `$done()` –≤ –∫–æ–Ω—Ü–µ –≤–∞—à–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

---

## –õ—É—á—à–∏–µ –ü—Ä–∞–∫—Ç–∏–∫–∏

### 1. –û–±—Ä–∞–±–æ—Ç–∫–∞ –û—à–∏–±–æ–∫

–í—Å–µ–≥–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ –≤ callback:

```javascript
$ssh.exec(hostId, command, (result) => {
    if (!result.success) {
        console.error('–ö–æ–º–∞–Ω–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞:', result.error);
        $notification.post('–û—à–∏–±–∫–∞', result.error, '');
        $done(JSON.stringify({ error: result.error }));
        return;
    }
    // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —É—Å–ø–µ—à–Ω—ã–π —Å–ª—É—á–∞–π
});
```

### 2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –û–ø–µ—Ä–∞—Ü–∏–∏

–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `$done()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```javascript
let completed = 0;
const total = hosts.length;

hosts.forEach(host => {
    checkHost(host, (result) => {
        completed++;
        if (completed === total) {
            $done(JSON.stringify({ results }));
        }
    });
});
```

### 3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏:

```javascript
console.log('[–ü—Ä–æ–≤–µ—Ä–∫–∞ –ó–¥–æ—Ä–æ–≤—å—è] –ó–∞–ø—É—Å–∫...');
console.warn('[–ü—Ä–æ–≤–µ—Ä–∫–∞ –ó–¥–æ—Ä–æ–≤—å—è] –í—ã—Å–æ–∫–∏–π CPU: 95%');
console.error('[–ü—Ä–æ–≤–µ—Ä–∫–∞ –ó–¥–æ—Ä–æ–≤—å—è] –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è');
```

---

## –ü—Ä–∏–º–µ—Ä—ã

### –ü–æ–ª–Ω—ã–π SSH –°–∫—Ä–∏–ø—Ç

```javascript
console.log('[–ü—Ä–æ–≤–µ—Ä–∫–∞ –î–∏—Å–∫–∞] –ó–∞–ø—É—Å–∫...');

$ssh.getHosts((hosts) => {
    if (hosts.length === 0) {
        console.error('[–ü—Ä–æ–≤–µ—Ä–∫–∞ –î–∏—Å–∫–∞] –•–æ—Å—Ç—ã –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã');
        $done(JSON.stringify({ error: '–ù–µ—Ç —Ö–æ—Å—Ç–æ–≤' }));
        return;
    }

    let results = [];
    let completed = 0;

    hosts.forEach(host => {
        $ssh.exec(host.id, "df -h / | tail -1 | awk '{print $5}'", (result) => {
            if (result.success) {
                const usage = parseInt(result.output.trim());
                results.push({ host: host.name, usage });

                if (usage > 90) {
                    $notification.post(
                        '–û–ø–æ–≤–µ—â–µ–Ω–∏–µ –æ –î–∏—Å–∫–µ',
                        host.name,
                        `–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞: ${usage}%`
                    );
                }
            }

            completed++;
            if (completed === hosts.length) {
                $done(JSON.stringify({ results }));
            }
        });
    });
});
```

### –ü–æ–ª–Ω—ã–π HTTP –°–∫—Ä–∏–ø—Ç

```javascript
console.log('[–ü—Ä–æ–≤–µ—Ä–∫–∞ API] –ó–∞–ø—É—Å–∫...');

const endpoints = [
    'https://jsonplaceholder.typicode.com/posts/1',
    'https://httpbin.org/status/200'
];

let results = [];
let completed = 0;

endpoints.forEach(url => {
    const startTime = $date.timestamp();

    $httpClient.get(url, (error, response, body) => {
        const endTime = $date.timestamp();
        const responseTime = endTime - startTime;

        results.push({
            url,
            healthy: !error && response.status === 200,
            responseTime
        });

        completed++;
        if (completed === endpoints.length) {
            const unhealthy = results.filter(r => !r.healthy);
            if (unhealthy.length > 0) {
                $notification.post(
                    '–û–ø–æ–≤–µ—â–µ–Ω–∏–µ API',
                    `${unhealthy.length} –∫–æ–Ω–µ—á–Ω–∞—è(—ã—Ö) —Ç–æ—á–∫–∞(–∏) –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç(—é—Ç)`,
                    ''
                );
            }
            $done(JSON.stringify({ results }));
        }
    });
});
```

---

## –ù—É–∂–Ω–∞ –ü–æ–º–æ—â—å?

- **–ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç**: [QUICK-START-ru.md](QUICK-START-ru.md)
- **GitHub**: https://github.com/jc-hk-1916/NaviTerm

---

**–£—Å–ø–µ—à–Ω–æ–≥–æ –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è! üöÄ**
